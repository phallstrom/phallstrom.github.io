<!DOCTYPE html>
<html lang='en'>
<head>
<!--[if IE 6]>
<script>
  if ( document.location.href.indexOf('/unsupported-browser') == -1 ) {
    //document.location.href = '/unsupported-browser'
  }
</script>
<![endif]-->
<title>facebook connect + safari + click to flash = no work | philip hallstrom | ruby on rails developer</title>
<link href='/articles/feed.xml' rel='alternate' title='Article Feed' type='application/atom+xml'>
<meta charset='utf-8'>
<link href="/assets/stylesheets/application.css" rel="stylesheet" media="all" />
<link href="/assets/stylesheets/print.css" rel="stylesheet" media="print" />
<script src="/assets/javascripts/application.js"></script>
<!--[if lte IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js'></script>
<![endif]-->
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-615621-1']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<body class='articles article'>
<nav>
<div class='navbar navbar-fixed-top'>
<div class='navbar-inner'>
<div class='container'>
<div class='row'>
<div class='span12'>
<div class='pull-right'>
<a class='brand dict' href='/'>philip hallstrom</a>
</div>
<ul class='nav'>
<li>
<a href='/'>Home</a>
</li>
<li>
<a href='/articles/'>Articles</a>
</li>
<li>
<a href='/portfolio/'>Portfolio</a>
</li>
<li>
<a href='/resume/'>Resume</a>
</li>
<li>
<a href='/projects/'>Projects</a>
</li>
<li>
<a href='/contact/'>Contact</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</nav>
<div class='container'>
<h1>
Facebook Connect + Safari + Click to Flash = No Work
</h1>
<div class='row'>
<div class='span9'>
<p class='muted'>
March 31, 2009
</p>
<article>

<p>If you’re developing a Facebook Connect application, using Safari, and have installed the ClickToFlash plugin to stop flash from loading automatically, none of your <span class="caps">FBML</span> tags will be parsed.  This is a known issue with ClickToFlash and apparently fixed in <span class="caps">HEAD</span>.  But until that’s released watch out.  This post is made in hopes that Google picks it up and saves others some time tracking it down.</p>


	<p><a href="http://github.com/rentzsch/clicktoflash/tree/master">ClickToFlash</a> is a nice plugin for Safari that stops Flash from autoplaying and replaces it with a button to click if you want to see it.  It works great.  Except for Facebook Connect applications.</p>


	<p>The problem is that FB Connect inserts an invisible flash element into your page.  It’s this flash element that lets your page communicate with Facebook—and is what allows the parsing of <span class="caps">FBML</span> tags to work.</p>


	<p>ClickToFlash has an option to white list a site, but that doesn’t seem to work in this case.  It also has an option to load invisible flash by default, but that too doesn’t seem to do the trick in this case.</p>


	<p>Removing <code>~/Library/Internet Plug-Ins/ClickToFlash.plugin</code> removes it and will make things work again.</p>


	<p>See these two bug reports for more information on the cause and solution: <a href="http://rentzsch.lighthouseapp.com/projects/24342/tickets/70-all-facebook-connect-sites">#70</a>, <a href="http://rentzsch.lighthouseapp.com/projects/24342/tickets/109">#109</a></p>


	<p>Here’s hoping this helps someone else not bang their head against the wall for as long as I did :-)</p>
</article>
<div id='disqus_thread'>
<script>
  var disqus_shortname = 'pjkh';
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
</div>

</div>
<div class='span3'>
<aside>
<div class='well well-small'>
<p>
<strong>Recent Articles</strong>
<ul class='recent-articles'>
<li><a href="/articles/postgresql-replication-and-load-balancing-with-pgpool2/">PostgreSQL Replication and Load Balancing with pgpool-II</a></li>
<li><a href="/articles/using-rails-mail-interceptor-to-test-email/">Using a Rails' Mail Interceptor to Test Email</a></li>
<li><a href="/articles/ansible-roles-tags-dependencies/">Ansible: Organization using Roles, Tags, and Dependencies</a></li>
<li><a href="/articles/abusing-rails-middleware-to-rewrite-paperclip-s3-urls/">Abusing Rails' Middleware to Rewrite Paperclip S3 URLs</a></li>
<li><a href="/articles/abusing-rails-middleware-to-remove-google-ads/">Abusing Rails' Middleware to Remove Google Ads in Development</a></li>
<li><a href="/articles/postgresql-json-vs-rails-serialize/">PostgreSQL's JSON vs Rails' Serialize</a></li>
<li><a href="/articles/sidekiq-broken-images-in-email/">Broken Images in Emails Sent via Sidekiq?</a></li>
<li><a href="/articles/my-bash-prompt/">My Bash Prompt</a></li>
<li><a href="/articles/default-pow-app-to-list-other-pow-apps/">An app for Pow that will list your other Pow apps</a></li>
<li><a href="/articles/make-zeuz-work-from-any-subdirectory/">Make Zeus work from any subdirectory of Rails.root</a></li>
</ul>
</p>
</div>

</aside>
</div>
</div>
<footer>
© 2019 PJKH, LLC
</footer>
</div>
</body>
</head>
</html>
