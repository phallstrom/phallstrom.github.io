<!DOCTYPE html>
<html lang='en'>
<head>
<!--[if IE 6]>
<script>
  if ( document.location.href.indexOf('/unsupported-browser') == -1 ) {
    //document.location.href = '/unsupported-browser'
  }
</script>
<![endif]-->
<title>articles | philip hallstrom | ruby on rails developer</title>
<link href='/articles/feed.xml' rel='alternate' title='Article Feed' type='application/atom+xml'>
<meta charset='utf-8'>
<link href="/assets/stylesheets/application.css" rel="stylesheet" media="all" />
<link href="/assets/stylesheets/print.css" rel="stylesheet" media="print" />
<script src="/assets/javascripts/application.js"></script>
<!--[if lte IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js'></script>
<![endif]-->
<body class='articles '>
<nav>
<div class='navbar navbar-fixed-top'>
<div class='navbar-inner'>
<div class='container'>
<div class='row'>
<div class='span12'>
<div class='pull-right'>
<a class='brand dict' href='/'>philip hallstrom</a>
</div>
<ul class='nav'>
<li>
<a href='/'>Home</a>
</li>
<li>
<a href='/articles/'>Articles</a>
</li>
<li>
<a href='/portfolio/'>Portfolio</a>
</li>
<li>
<a href='/resume/'>Resume</a>
</li>
<li>
<a href='/projects/'>Projects</a>
</li>
<li>
<a href='/contact/'>Contact</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</nav>
<div class='container'>
<h1>
Articles
<small class="muted">& Ramblings</small>
</h1>
<div class='row'>
<div class='span9'>
<div class='row'>
<div class='span1'>
<h3>2015</h3>
</div>
<div class='span8'>
<strong><a href="/articles/postgresql-replication-and-load-balancing-with-pgpool2/">PostgreSQL Replication and Load Balancing with pgpool-II</a></strong>
<p>
<small class='muted'>Instructions for setting up postgresql replication and load balancing.

</small>
</p>
<strong><a href="/articles/using-rails-mail-interceptor-to-test-email/">Using a Rails' Mail Interceptor to Test Email</a></strong>
<p>
<small class='muted'>How to use a mail interceptor to help test emails built in development
via third party testing services.

</small>
</p>
<strong><a href="/articles/ansible-roles-tags-dependencies/">Ansible: Organization using Roles, Tags, and Dependencies</a></strong>
<p>
<small class='muted'>How I use Ansible's roles, tags, and dependencies to organize my playbooks.

</small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2014</h3>
</div>
<div class='span8'>
<strong><a href="/articles/abusing-rails-middleware-to-rewrite-paperclip-s3-urls/">Abusing Rails' Middleware to Rewrite Paperclip S3 URLs</a></strong>
<p>
<small class='muted'>I wanted a way to see production S3 assets in development when using a production database export.

</small>
</p>
<strong><a href="/articles/abusing-rails-middleware-to-remove-google-ads/">Abusing Rails' Middleware to Remove Google Ads in Development</a></strong>
<p>
<small class='muted'>I finally snapped and no longer wanted to see Google ads while developing my Rails app.

</small>
</p>
<strong><a href="/articles/postgresql-json-vs-rails-serialize/">PostgreSQL's JSON vs Rails' Serialize</a></strong>
<p>
<small class='muted'>A recent article on persisting hashes in Rails using PostgreSQL
made me curious about performance.

</small>
</p>
<strong><a href="/articles/sidekiq-broken-images-in-email/">Broken Images in Emails Sent via Sidekiq?</a></strong>
<p>
<small class='muted'>Images broken in email when sent via Sidekiq?  Make sure
your assets are compiled.

</small>
</p>
<strong><a href="/articles/my-bash-prompt/">My Bash Prompt</a></strong>
<p>
<small class='muted'>I spend most of my day in the shell.  This is my bash prompt with support
for RVM and git branch information.

</small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2013</h3>
</div>
<div class='span8'>
<strong><a href="/articles/default-pow-app-to-list-other-pow-apps/">An app for Pow that will list your other Pow apps</a></strong>
<p>
<small class='muted'>I use Pow to manage my Rails applications.  I have quite a few and sometimes
forget what I've named them.  Here's my solution.

</small>
</p>
<strong><a href="/articles/make-zeuz-work-from-any-subdirectory/">Make Zeus work from any subdirectory of Rails.root</a></strong>
<p>
<small class='muted'>Zeus is great for speeding up various Rails commands like console and tests,
but it must be run from Rails root.  Here's a way to get around that.

</small>
</p>
<strong><a href="/articles/cgi-escape-undefined-method-bytesize-for-nil-class/">CGI.escape and "Undefined method 'bytesize' for nil:NilClass"</a></strong>
<p>
<small class='muted'>How to solve this annoying error once and for all.

</small>
</p>
<strong><a href="/articles/building-your-own-rails-and-ruby-searchable-api-docs/">Build your own Ruby and Rails Searchable API Docs</a></strong>
<p>
<small class='muted'>Online docs are nice, but having a local, searchable copy is even nicer.

</small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2012</h3>
</div>
<div class='span8'>
<strong><a href="/articles/rails-couldnt-find-all-xxx-with-ids-found-1-but-was-looking-for-2/">Rails can't find all your IDs when using a HATBM relationship?</a></strong>
<p>
<small class='muted'>Given a HATBM relationship, the use of the 'association_ids=' setter can lead to a very unintuitive error.

</small>
</p>
<strong><a href="/articles/ruby-argumenterror-comparision-of-fixnum-with-float-failed/">In Ruby, dividing by zero doesn't always raise a ZeroDivisionError</a></strong>
<p>
<small class='muted'>Sometimes it raises "ArgumentError: comparison of Fixnum with Float failed" instead.
</small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2010</h3>
</div>
<div class='span8'>
<strong><a href="/articles/fun-with-rails-git-log-and-gltail/">Fun with Rails' Git Log and glTail</a></strong>
<p>
<small class='muted'>I ended up with a little too much free time the other day and was curious to see what would happen if I fed the entire history of Rails' commit history through the visualization tool glTail.
     </small>
</p>
<strong><a href="/articles/use-applescript-to-automatically-close-safaris-downloads-window/">Use AppleScript to automatically close Safari's Downloads window</a></strong>
<p>
<small class='muted'>For whatever reason, Safari has no option to automatically close it's "Downloads" window after a download completes.  There are some older plugins that do it, but they tend to have a lot of other features I don't want.  AppleScript can do it in use with Folder Actions.
     </small>
</p>
<strong><a href="/articles/speeding-up-thumbnail-generation-with-paperclip/">Speeding up thumbnail generation with Paperclip</a></strong>
<p>
<small class='muted'>On the heels of my other Paperclip patch I noticed that generating four styles
from a large original and auto orienting them takes a lot of time (about 12
seconds on average).  Trying to cut that time down I wondered if it would be
possible to generate the smaller thumbnails from the larger ones.</small>
</p>
<strong><a href="/articles/rails-paperclip-auto-orient-and-resizing/">Rails, Paperclip, -auto-orient, and resizing...</a></strong>
<p>
<small class='muted'>I recently had a situation in which I wanted to generate thumbnail images and have them constrained to 67x50 (specifically "67x50&gt;").  No problem so far, but I also wanted to auto rotate (via Imagemagick's -auto-orient option) the images as they all come from a digital camera that provides this information.  This causes a problem.  Namely that some images ended up being 50x67 instead of 67x50.
     </small>
</p>
<strong><a href="/articles/hanger9-fs-one-running-in-parallels-5-on-mac-os-x/">Hanger9 FS One Running in Parallels 5 on Mac OS X</a></strong>
<p>
<small class='muted'>MuPromo has a software bundle containing Parallels 5.  Tempting.  Wondered if I could run Hanger9 FS One in it so I wouldn't have to use Bootcamp like I have been doing.  The answer is yes, I can!
     </small>
</p>
<strong><a href="/articles/another-reason-people-prefer-macs-to-pcs/">Another Reason People Prefer Macs to PCs</a></strong>
<p>
<small class='muted'>Yet another unscientific reason people prefer macs over PCs.  Just look at these instructions.
     </small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2009</h3>
</div>
<div class='span8'>
<strong><a href="/articles/ruby-in-a-nutshell/">Ruby in a Nutshell...</a></strong>
<p>
<small class='muted'>This may not be very scientific, but perhaps this is why Ruby is such a wonderful language.
     </small>
</p>
<strong><a href="/articles/sphinx-search-0-9-8-1-debian-packages/">Sphinx Search 0.9.8.1 Debian Packages</a></strong>
<p>
<small class='muted'>There's no (to my knowledge) package of Sphinx Search for Debian.  Following some instructions I went ahead and built some for Debian 5.0.  Feel free to use them.
     </small>
</p>
<strong><a href="/articles/facebook-connect-safari-click-to-flash-no-work/">Facebook Connect + Safari + Click to Flash = No Work</a></strong>
<p>
<small class='muted'>If you're developing a Facebook Connect application, using Safari, and have installed the ClickToFlash plugin to stop flash from loading automatically, none of your FBML tags will be parsed.  This is a known issue with ClickToFlash and apparently fixed in HEAD.  But until that's released watch out.
     </small>
</p>
<strong><a href="/articles/hanger9-fs-one-review/">Hanger9 FS One Review</a></strong>
<p>
<small class='muted'>I just bought Hanger9 FS One and wanted to quickly say that it's awesome and runs great on a Macbook Pro via Bootcamp.
     </small>
</p>
<strong><a href="/articles/radiantcms-extension-for-syntax-highlighting-via-coderay/">RadiantCMS Extension for Syntax Highlighting via CodeRay</a></strong>
<p>
<small class='muted'>I recently converted this website to using RadiantCMS.  Many of my articles include code samples. In the past I had written a plugin for webgen to use CodeRay to provide syntax highlighting.  I've now done the same for RadiantCMS.</small>
</p>
<strong><a href="/articles/manually-invoking-a-rails-sweeper/">Manually Invoking a Rails Sweeper</a></strong>
<p>
<small class='muted'>Let's say you have a Rails app, and that app has a Photo model, and that photo model has many Destinations, and the destination pages are cached to disk, and when you update a photo you need to expire all of the destination pages that photo is currently associated with.
     </small>
</p>
<strong><a href="/articles/creating-an-audit-log-in-rails/">Creating an Audit Log in Rails</a></strong>
<p>
<small class='muted'>Someone just asked how to track changes via an audit log in Rails.  They wanted more than just model observers however -- they wanted to track the logged in user and some other session related data.  I recently did something just like this.
     </small>
</p>
<strong><a href="/articles/new-toy-mini-super-cub-rc-airplane/">New Toy - Mini Super Cub RC Airplane</a></strong>
<p>
<small class='muted'>I've always loved remote control machines and two days ago I got the new Mini Super Cub.  It's awesome :-)
     </small>
</p>
<strong><a href="/articles/rails-exceptions-hoptoad-and-annoying-user-agents/">Rails, Exceptions, Hoptoad, and Annoying User Agents</a></strong>
<p>
<small class='muted'>Hoptoad is an excellent service that allows you to funnel all of your Rails exceptions to a central location so you can splice, dice, and fix them.  I've noticed however that some web spiders mangle valid URLs into invalid ones and rather than deal with all the possible permutations it would be a lot nicer to simply have Hoptoad ignore them completely.
     </small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2008</h3>
</div>
<div class='span8'>
<strong><a href="/articles/quickly-mirroring-your-ruby-gem-installation/">Quickly Mirroring your Ruby Gem Installation</a></strong>
<p>
<small class='muted'>A friend just complained that he'd setup a server with all his gems and it would be nice if there
was an easy way to do the same install on another server without having to retype everything.
He wanted something like: gem install -l from_file.txt

     </small>
</p>
<strong><a href="/articles/osx-iterm-screen-vim-256-colors/">OSX + iTerm + screen + vim + 256 colors</a></strong>
<p>
<small class='muted'>I've used vim for a long long time.  A couple of years ago I enabled syntax coloring, but
the defaults aren't that attractive and recently I've begun to envy some of the Textmate color themes,
particularly the theme used in Ryan Bate's Railscasts.
     </small>
</p>
<strong><a href="/articles/rails-hash_for_named_url-goodness/">Rails - hash_for_named_url goodness</a></strong>
<p>
<small class='muted'>It's well documented that if you use named routes in Rails you get the benefit of saying things
like 'faq_url' and 'faq_path' in your code. But what if you want the hash that makes up that named route?
     </small>
</p>
<strong><a href="/articles/verizon-lg-vx5400-osx-addressbook-bluetooth/">Verizon, LG VX5400, OSX, Addressbook, Bluetooth</a></strong>
<p>
<small class='muted'>I recently switched to Verizon because TMobile had horrific reception where I now live. I got the LG VX5400 cause they were on sale, have good battery life and had bluetooth which as it turns out works with OSX.
     </small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2007</h3>
</div>
<div class='span8'>
<strong><a href="/articles/using-url_for-and-expire_page-in-console-and-runner/">Using url_for and expire_page in console and runner</a></strong>
<p>
<small class='muted'>I implemented page caching in a recent Rails project along with the necessary
cache sweeper to keep everything nice and tidy.  However, now I needed a way to
expire pages outside of the web application - that is, from "script/console" and
"script/runner".
     </small>
</p>
<strong><a href="/articles/openads-clientid-vs-campaignid/">OpenAds - clientid vs. campaignid</a></strong>
<p>
<small class='muted'>We use openads at work and needed to directly target
a client's banner.  Any of their banners from any of their campaigns.  You
can't do "?what=clientid:123" since clients don't have any relation to
banners.  Campaigns do.
     </small>
</p>
<strong><a href="/articles/litespeed-rails-and-rewriting-urls/">LiteSpeed, Rails, and Rewriting URLs</a></strong>
<p>
<small class='muted'>I had a situation today in which I wanted to turn a url such as
"/foo/bar/12345" into "/foo/bar/5/4/3/12345.html" and pass that into Rails.
     </small>
</p>
<strong><a href="/articles/alternating-row-colors-in-apple-mail/">Alternating Row Colors in Apple Mail</a></strong>
<p>
<small class='muted'>By default there is no row divider in the message
list of Apple Mail.  No alternating colors, no divider. That's annoying.</small>
</p>
<strong><a href="/articles/patches-to-roundcube-webmail/">Patches to RoundCube Webmail</a></strong>
<p>
<small class='muted'>I had to setup a new webmail system for work and we picked RoundCube which has the best web UI for webmail I've ever seen.
There were some features it didn't have however so I added those in.  I think
they might be useful to other folks so am helping google find them here...
     </small>
</p>
<strong><a href="/articles/how-to-extract-a-thumbnail-from-an-flv-file/">How to Extract a Thumbnail from an FLV File</a></strong>
<p>
<small class='muted'>I recently had a need to extract a thumbnail graphic from an FLV file in order
to use it as a placeholder graphic. Found some help and pointers to ffmpeg and with some fiddling found a solution.
     </small>
</p>
<strong><a href="/articles/ubuntu-server-6-0-6-lts-and-parallels-hanging-fix/">Ubuntu Server 6.0.6 LTS and Parallels Hanging - FIX</a></strong>
<p>
<small class='muted'>I recently setup Ubuntu Server 6.0.6 LTS under Parallels just because.  But it
would hang while uncompressing the kernel.
     </small>
</p>
<strong><a href="/articles/ruby-native-mysql-gem-vs-pure-ruby-version/">Ruby - Native MySQL Gem vs. Pure Ruby Version</a></strong>
<p>
<small class='muted'>I recently discovered that while I had installed the native mysql gem for ruby
that it wasn't being used by my ruby (and rails) scripts.  It turned out that
even those the mysql.so was being generated correctly, it wasn't being copied
into the right location.
     </small>
</p>
<strong><a href="/articles/bulk-deactivation-of-banners-in-openads-2-0/">Bulk Deactivation of Banners in OpenAds 2.0</a></strong>
<p>
<small class='muted'>OpenAds is an open source ad serving software
package.  It's pretty nice too, but one thing it won't let you do is easily
deactivate all banners belonging to a specific client.  This can be a pain when
those banners are remotely hosted and that host goes down, bringing your site
along with it (well, not down, but making it less attractive).
     </small>
</p>
<strong><a href="/articles/swords-for-the-boys/">Swords for the Boys</a></strong>
<p>
<small class='muted'>I have two small boys who have recently been watching the BBC version of The
Chronicles of Narnia and there's a lot
of sword play so instantly every cooking utensil in the house and stick outside
became a sword. Figuring they would want to really bash on each other I thought it would be fun
to make them each a sword with a bit of padding.
     </small>
</p>
<strong><a href="/articles/litespeed-osx-and-disk-scratching/">Litespeed, OSX, and Disk Scratching</a></strong>
<p>
<small class='muted'>I recently setup litespeed] on my OSX machine
for development.  Everything works great except that it writes to the hard
drive every second.  Turns out litespeed writes out it's status once a second
to "/tmp/lshttpd/status" and that for some reason OSX doesn't cache that in
memory. This can be fixed by mounting a RAM disk at "/tmp/lshttpd".
     </small>
</p>
<strong><a href="/articles/nginx-and-cronolog/">Nginx and Cronolog</a></strong>
<p>
<small class='muted'>I recently setup Nginx for one of our webservers and
needed to hook cronolog up to it for all the normal
reasons you want cronolog. But Nginx doesn't support piped logging yet :( We can use fifo's though to
accomplish the same thing :) 
     </small>
</p>
<strong><a href="/articles/backups-with-rsync/">Backups with Rsync</a></strong>
<p>
<small class='muted'>The following are the scripts I use to backup various servers that support
rsync/ssh to a central server, automatically, keeping a couple week "change
log", with minimal fuss. There are many other backup programs out there that
are much more sophisticated, but they are also more work, and I'm not
interested in archiving my backups for years and years and years. I just don't
have that type of data nor a tape drive :)
     </small>
</p>
<strong><a href="/articles/building-rails-and-its-friends-on-osx/">Building Rails and its friends on OSX</a></strong>
<p>
<small class='muted'>I recently switched to a mac and wanted to get our production environment
running completely on my macbook so I could work remotely.  This post is step by step (almost pastable) to get the
following installed on OSX: MySQL, Subversion, ruby, ImageMagick, memcache,
mongrel, and capistrano (as well as any dependencies).
     </small>
</p>
</div>
</div>
<div class='row'>
<div class='span1'>
<h3>2006</h3>
</div>
<div class='span8'>
<strong><a href="/articles/integrating-openads-with-rails/">Integrating OpenAds with Rails</a></strong>
<p>
<small class='muted'>Integrating OpenAds and Rails isn't that painful.  Adding the code to the right
spots will let you do something like this in your views "&lt;= render_ad_banner('728x90') %&gt;".
     </small>
</p>
<strong><a href="/articles/mongrel-rails-dashboard-widget/">Mongrel Rails Dashboard Widget</a></strong>
<p>
<small class='muted'>I've recently switched over to using a MacBook Pro for work.  One of the nice
things about that is the ability to run all my Rails projects locally.  So I've
got several different projects and branches of projects checked out and was
getting tired of starting/stopping individual mongrels depending on which one I
wanted to work on.  So, I've written my first dashboard widget - Mongrel Rails.
     </small>
</p>
</div>
</div>

</div>
<div class='span3'>
<aside>
</aside>
</div>
</div>
<footer>
© 2019 PJKH, LLC
</footer>
</div>
</body>
</head>
</html>
